class Alerta

types
  public tipoAlerta = <BajoRendimiento> | <Inasistencia> | <FaltaEvaluacion> | <AdvertenciaGeneral>;
  public estadoAlerta = <Creado> | <Pendiente> | <Concluido> | <Archivado>;

instance variables
  estudiante: token;
  docente: token;
  curso: token;
  tipo: tipoAlerta;
  descripcion: seq of char;
  estado: estadoAlerta;

operations
public Alerta: token * token * token * tipoAlerta * seq of char ==> Alerta
Alerta(cod_est, cod_doc, cod_cur, tip, des) == (
  estudiante := cod_est;
  docente := cod_doc;
  curso := cod_cur;
  tipo := tip;
  descripcion := des;
  estado := <Creado>;
);

public esRepetido: token * token * tipoAlerta ==> bool
esRepetido(cod_est, cod_cur, tip) == (
  if (estado = <Concluido> or estado = <Archivado>)
    then return false;
  return cod_est = estudiante and cod_cur = curso and tip = tipo;
);

public terminar: estadoAlerta ==> ()
terminar(estado_nuevo) == (
  estado := estado_nuevo;
)
pre (estado_nuevo = <Concluido> or estado_nuevo = <Archivado>) and estado = <Pendiente>;

public visto: () ==> ()
visto() == (
  estado := <Pendiente>;
)
pre estado = <Creado>;

public termino: () ==> bool
termino() == (
  return estado = <Concluido> or estado = <Archivado>;
);

public verificarEstado: estadoAlerta ==> bool
verificarEstado(estado_verificar) == (
  return estado = estado_verificar;
);

public getTipo: () ==> tipoAlerta
getTipo () == (
  return tipo
);

public getCurso: () ==> token
getCurso () == (
  return curso
);

public getEstudiante: () ==> token
getEstudiante () == (
  return estudiante
);

public getDocente: () ==> token
getDocente () == (
  return docente
);

functions

end Alerta
