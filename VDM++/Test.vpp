class Test

instance variables
  fechaActual: Fecha := new Fecha(26,11,2025);

operations
public ProbarFecha: () ==> ()
ProbarFecha() == (
  -- inicializar fechas
  dcl caso1:  Fecha := new Fecha(5,12,2005);     -- mes antes, dias antes
  dcl caso2:  Fecha := new Fecha(29,12,2005);    -- mes antes, dias despues
  dcl caso3:  Fecha := new Fecha(24,11,2004);    -- mismo mes, dias antes
  dcl caso4:  Fecha := new Fecha(27,11,2004);    -- mismo mes, dias despues
  dcl caso5:  Fecha := new Fecha(2,9,2005);      -- mes despues, dias antes
  dcl caso6:  Fecha := new Fecha(29,9,2005);     -- mes despues, dias despues
  dcl caso7:  Fecha := new Fecha(7,4,2004);      -- bisiesto (multiplo de 4)
  dcl caso8:  Fecha := new Fecha(28,2,1900);     -- no bisiesto (multiplo de 100)
  dcl caso9:  Fecha := new Fecha(5,2,2000);      -- bisiesto (multiplo de 400)
  dcl caso10: Fecha := new Fecha(5,2,2025);      -- mismo año, mes antes, dia antes
  dcl caso11: Fecha := new Fecha(25,2,2025);     -- mismo año, mes antes, dia despues
  dcl caso12: Fecha := new Fecha(5,11,2025);     -- mismo año, mes igual, dia antes
  -- probar calcular diferencia
  dcl dif:int := 0;
  dif := caso1.calcularDiferencia(fechaActual);
  dif := caso2.calcularDiferencia(fechaActual);
  dif := caso3.calcularDiferencia(fechaActual);
  dif := caso4.calcularDiferencia(fechaActual);
  dif := caso5.calcularDiferencia(fechaActual);
  dif := caso6.calcularDiferencia(fechaActual);
  dif := caso7.calcularDiferencia(fechaActual);
  dif := caso8.calcularDiferencia(fechaActual);
  dif := caso9.calcularDiferencia(fechaActual);
  dif := caso10.calcularDiferencia(fechaActual);
  dif := caso11.calcularDiferencia(fechaActual);
  dif := caso12.calcularDiferencia(fechaActual);
  return;
);

public ProbarEstudiante: () ==> ()
ProbarEstudiante() == (
  dcl estudiante: Estudiante := new Estudiante(mk_token("20223014"),"Joe","Cuadros",new Fecha(7,4,2004));
  dcl datos:seq of char := estudiante.getDatos();
  dcl edad:nat := estudiante.getEdad(fechaActual);
  return;
);

public ProbarDocente: () ==> ()
ProbarDocente() == (
  dcl docente: Docente := new Docente(mk_token(1), "Maribel ", "Molina");
  dcl datos:seq of char := docente.getDatos();
  return;
);

public ProbarCurso: () ==> ()
ProbarCurso() == (
  dcl curso: Curso := new Curso(mk_token("AFEV"), mk_token(1));
  dcl estudiantes:set of token;
  dcl matriculado:bool;
  dcl datos:token;

  curso.inscribirEstudiante(mk_token("20220001")); --codigo de estudiante
  curso.inscribirEstudiante(mk_token("20220002")); --codigo de estudiante
  curso.retirarEstudiante(mk_token("20220001")); --codigo de estudiante
  estudiantes := curso.getEstudiantes();
  matriculado := curso.isMatriculado(mk_token("20220002")); --codigo de estudiante
  datos := curso.getDocente();
  datos := curso.getCodigo();
  return;
);

public ProbarAsistencia: () ==> ()
ProbarAsistencia() == (
  dcl asistencia: Asistencia := new Asistencia(mk_token("AFEV"),fechaActual); --codigo de curso
  dcl registro: map token to bool; 
  dcl codigo: token;
  dcl termino: bool;

  asistencia.registrarAsistencia(mk_token("20220001"), true); --codigo de estudiante
  registro := asistencia.getAsistencias();
  codigo := asistencia.getCurso();
  asistencia.terminar();
  termino := asistencia.termino();
  return;
);

public ProbarEvaluacion: () ==> ()
ProbarEvaluacion() == (
  dcl evaluacion: Evaluacion := new Evaluacion(<Examen>,mk_token("AFEV"),fechaActual); --codigo de curso
  dcl registro: map token to real; 
  dcl codigo: token;
  dcl termino: bool;

  evaluacion.agregarNota(mk_token("20220001"), 10); --codigo de estudiante
  registro := evaluacion.getNotas();
  codigo := evaluacion.getCurso();
  evaluacion.terminar();
  termino := evaluacion.termino();
  return;
);

public ProbarAlerta: () ==> ()
ProbarAlerta() == (
  dcl alerta: Alerta := new Alerta(mk_token("20220001"),mk_token(1), mk_token("AFEV"), <BajoRendimiento>, "sin descripcion");
  dcl alerta2: Alerta := new Alerta(mk_token("20220002"),mk_token(2), mk_token("AFEV"), <BajoRendimiento>, "sin descripcion");
  dcl esIgual: bool;

  esIgual := alerta.esRepetido(mk_token("20220001"), mk_token("AFEV"), <BajoRendimiento>);
  alerta.terminar(<Concluido>);
  alerta2.terminar(<Archivado>);
  esIgual := alerta.esRepetido(mk_token("20220001"), mk_token("AFEV"), <BajoRendimiento>);
  esIgual := alerta.verificarEstado(<Concluido>);
  return;
);

public ProbarMonitor:() ==> ()
ProbarMonitor() == (
  dcl monitor:Monitor := new Monitor();
  dcl nombre: seq of char;
  dcl edad: nat;
  dcl notas: map token to real;
  dcl asistencias: map token to bool;
  dcl conjunto: set of token;
  dcl total: nat;

  monitor.cargarDatos();
  monitor.cargarInscripciones();
  monitor.cargarEvaluaciones();
  monitor.cargarAsistencias();

  nombre := monitor.obtenerDatosEstudiante(mk_token(20223014));
  edad := monitor.obtenerEdadEstudiante(mk_token(20223014));
  nombre := monitor.obtenerDatosDocente(mk_token(1));
  conjunto := monitor.obtenerEstudiantesCurso(mk_token("AFEV"));
  total := monitor.totalEstudiantesCurso(mk_token("AFEV"));

  notas := monitor.obtenerNotas(mk_token(1)); --codigo de la evaluacion
  conjunto := monitor.obtenerEvaluacionesCurso(mk_token("AFEV")); --codigo de curso
  asistencias := monitor.obtenerAsistencias(mk_token(1)); --codigo de la asistencia
  conjunto := monitor.obtenerAsistenciasCurso(mk_token("AFEV")); --codigo de curso

  return;
);

public ProbarTodos: () ==> ()
ProbarTodos() == (
  ProbarFecha();
  ProbarEstudiante();
  ProbarDocente();
  ProbarCurso();
  ProbarAsistencia();
  ProbarEvaluacion();
  ProbarAlerta();
  ProbarMonitor();
);


end Test
