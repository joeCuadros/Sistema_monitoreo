class Asistencia

types
  public estadoAsis = <Creado> | <Proceso> | <Finalizado>;

instance variables
  curso: token;
  fecha: Fecha;
  estado: estadoAsis;
  contenido: map token to bool := {|->};

operations
-- constructor para Asistencia
public Asistencia: token * Fecha ==> Asistencia
Asistencia(cur, fec) == (
  curso := cur;
  fecha := fec;
  estado := <Creado>;
);
-- agregar nota al estudiante
public registrarAsistencia: token * bool ==> ()
registrarAsistencia(cod_est, asistio) == (
  contenido := contenido ++ {cod_est |-> asistio};
  estado := <Proceso>;
)
pre estado <> <Finalizado> and cod_est not in set dom contenido;
-- obtener asistencias
public getAsistencias: () ==> map token to bool
getAsistencias() == (
  return contenido
);
-- obtener codigo de curso
public getCurso: () ==> token
getCurso() == (
  return curso
);
-- terminar evaluacion
public terminar: () ==> ()
terminar() == (
  estado := <Finalizado>;
)
pre estado = <Proceso>;
public termino: () ==> bool
termino() == (
  return estado = <Finalizado>
);

functions

end Asistencia
